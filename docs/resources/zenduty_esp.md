---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "Zenduty Escalation Policy"
subcategory: ""
description: |-
    " `zenduty_esp` is a resource to manage escalation policies in a team "
  
---

# zenduty_esp (Resource)
`zenduty_esp` is a resource to manage escalation policies in a team 

## Example Usage
```hcl
resource "zenduty_teams" "exampleteam" {
  name = "exmaple team"
}

resource "zenduty_schedules" "example_schedule" {
  name = "exmaple schedule"
  team_id = zenduty_teams.exampleteam.id
  time_zone = ""  
}

data "zenduty_user" "user1" {
  email = "demouser@gmail.com"
}


```


```hcl 

resource "zenduty_esp" "example_esp" {
    name = "example escalation_policy"
    team_id = zenduty_teams.exampleteam.id
    description = ""
}

```

<a id="nestedblock--rules"></a>
## Rules
```hcl
    rules {
        delay = ""
        #targets
    }


```
* `delay` (Required) (Number) - The delay of the rule in minutes.
* `targets` (see [below for nested schema](#nestedblock--rules--targets))

<a id="nestedblock--rules--targets"></a>
## Targets 
```hcl
    targets {
        target_type = ""
        target_id = ""
    }


```
* `target_type` (Required) (Number) -  values are `1` for schedule `2` for user
* `target_id` (Required) (String) -  username of the user to assign. or unique_id of schedule 

## Escalation Policy Example
```hcl

resource "zenduty_esp" "esp1" {
    name = "Infra escalation policy" 
    team_id = ""
    summary = "This is the summary for the new ESP"
    description = "This is the description for the new ESP"
    rules {
        delay = 0    
        targets {
            target_type = 2
            target_id = data.zenduty_user.user1.users[0].username  //username of user
    
        }
        targets {
            target_type = 1
            target_id = zenduty_schedules.example_schedule.id    // unique id of the schedule
        }
    
    }
    rules {
        delay = 5    
        targets {
            target_type = 2
            target_id = ""
    
        }
        targets {
            target_type = 2
            target_id = ""
        }
    
    }
    move_to_next = true
    repeat_policy=8
}

```

## Argument Reference

* `team_id` (Required) - The unique_id of the team to create the escalation policy in.
* `name` (Required) - The name of the escalation policy.
* `description` (Required) - The description of the escalation policy
* `summary` (Optional) - The summary of the escalation policy.
* `rules` (Optional) - The rules of the escalation policy. (see [above for nested schema](#nestedblock--rules))
* `move_to_next` (Optional) - The move_to_next of the escalation policy.
* `repeat_policy` (Optional) - The repeat_policy of the escalation policy.
* `delay` (Required) (Number) - The delay of the rule in minutes.
* `targets` (see [above for nested schema](#nestedblock--rules--targets))
* `target_type` (Required) (Number) -  values are `1` for schedule `2` for user
* `target_id` (Required) (String) -  username of the user to assign. or unique_id of schedule 


## Attributes Reference

The following attributes are exported:

* `id` - The ID of the Escalation Policy.

## Import

Escalation Policy can be imported using the `team_id`(ie. unique_id of the team) and `esp_id`(ie. unique_id of the escalation policy), e.g.

```hcl
resource "zenduty_esp" "esp1" {

}
```
`$ terraform import zenduty_esp.esp1 team_id/esp_id` 

`$ terraform state show zenduty_esp.esp1`

`* copy the output data and paste inside zenduty_esp.esp1 resource block and remove the id attribute`

`$ terraform plan` to verify the import






## DataTypes 

### Required Fields:

- **name** (String)
- **team_id** (String)
### Optional

- **description** (String)
- **move_to_next** (Boolean)
- **repeat_policy** (Number) -> range from `1` to `10`
- **rules** (Block List) (see [above rules schema](#nestedblock--rules))
- **summary** (String)





